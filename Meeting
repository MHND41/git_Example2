PORT = input("enter port : ")
VLAN = input("enter Vlan id : ")
Customer_name = input("enter customer name : ")
SLID = input("enter SLID number : ")
SPEED = input("enter speed : ")
IP_Address = input("enter IP address : ")
IP_Address_BGP = input("enter IP address BGP : ")
Task_number = input("enter Task number : ")
INSTANCE = input("enter MPLS instance : ")
Customer_ASN = input("enter ASN for Customer : ")





print (f"""

       

show interfaces descriptions {PORT}

show interfaces descriptions | match {PORT}.{VLAN}


       
configure private
                     
set interfaces {PORT} unit {VLAN} apply-groups l3vpn-link
set interfaces {PORT} unit {VLAN} description "customer: {Customer_name}, slid:{SLID}"
set interfaces {PORT} unit {VLAN} vlan-id {VLAN}
set interfaces {PORT} unit {VLAN} family inet address {IP_Address}
set interfaces {PORT} unit {VLAN} family inet policer input customer-{SPEED}m
set interfaces {PORT} unit {VLAN} family inet policer output customer-{SPEED}m

set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} description "customer: {Customer_name}, slid:{SLID}"
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} instance-type vrf
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} interface {PORT}.{VLAN}
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} route-distinguisher 3257:{INSTANCE}
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} vrf-target target:3257:{INSTANCE}
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} routing-options maximum-prefixes 1000
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} routing-options maximum-prefixes threshold 90
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} vrf-table-label

set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} protocols bgp log-updown
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} protocols bgp group customer type external
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} protocols bgp group customer family inet unicast prefix-limit maximum 800
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} protocols bgp group customer family inet unicast prefix-limit teardown 90
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} protocols bgp group customer family inet unicast prefix-limit teardown idle-timeout 5
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} protocols bgp group customer neighbor {IP_Address_BGP}
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} protocols bgp group customer neighbor {IP_Address_BGP} peer-as {Customer_ASN}
set routing-instances l3vpn-{Customer_name}-3257-{INSTANCE} protocols bgp group customer neighbor {IP_Address_BGP} local-as 3257


show | compare



commit and-quit comment Task#{Task_number}



set routing-instances l3vpn-convergeone-3257-21334 vrf-import customer-convergeone-3257-21334-IMPORT
set routing-instances l3vpn-convergeone-3257-21334 vrf-export customer-convergeone-3257-21334-EXPORT

set policy-options policy-statement customer-convergeone-3257-21334-EXPORT term 5 from prefix-list customer-8928-man-vrf
set policy-options policy-statement customer-convergeone-3257-21334-EXPORT term 5 then community add customer-8928-SET-EXTCOM-RT-8928:1
set policy-options policy-statement customer-convergeone-3257-21334-EXPORT term 5 then next term
set policy-options policy-statement customer-convergeone-3257-21334-EXPORT term 10 from protocol static
set policy-options policy-statement customer-convergeone-3257-21334-EXPORT term 10 from protocol direct
set policy-options policy-statement customer-convergeone-3257-21334-EXPORT term 10 from protocol bgp
set policy-options policy-statement customer-convergeone-3257-21334-EXPORT term 10 then community add customer-SET-EXTCOM-RT-3257:21334
set policy-options policy-statement customer-convergeone-3257-21334-EXPORT term 10 then accept
set policy-options policy-statement customer-convergeone-3257-21334-EXPORT then reject

set policy-options policy-statement customer-convergeone-3257-21334-IMPORT term 5 from protocol bgp
set policy-options policy-statement customer-convergeone-3257-21334-IMPORT term 5 from community customer-MATCH-EXTCOM-RT-3257:21334
set policy-options policy-statement customer-convergeone-3257-21334-IMPORT term 5 from community customer-8928-MATCH-EXTCOM-RT-8928:2
set policy-options policy-statement customer-convergeone-3257-21334-IMPORT term 5 then accept
set policy-options policy-statement customer-convergeone-3257-21334-IMPORT then reject

set policy-options community customer-MATCH-EXTCOM-RT-3257:21334 members target:3257:21334
set policy-options community customer-SET-EXTCOM-RT-3257:21334 members target:3257:21334

set policy-options community customer-8928-SET-EXTCOM-RT-8928:1 members target:8928:1

set policy-options community customer-8928-MATCH-EXTCOM-RT-8928:2 members target:8928:2

set policy-options prefix-list customer-8928-man-vrf 100.64.88.100/30


  """)

